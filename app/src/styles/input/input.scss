@import '../colors.scss';

.c-input {
  border: none;
  outline: none;
  text-overflow: ellipsis;
  color: $g-color-text-primary;
  padding: 11px 55px 11px 15px;
  font-size: 20px;
  flex: 1;
  transition: box-shadow 1s;

  &::selection {
    background-color: $g-color-selection;
    color: white;
  }

  &::placeholder {
    text-align: center;
    opacity: .75;
    transition: opacity 1s;
  }

  &[disabled] {
    background-color: transparent;
    color: rgba(58, 190, 19, 0.35);
  }

  &:focus, &[placeholder]:not(:placeholder-shown) {
    box-shadow: 0 25px 35px -15px $g-color-shadow;
    background: linear-gradient($g-color-primary, $g-color-primary);
    background-position: bottom center;
    background-repeat: no-repeat;
    animation: a-input--secondary-focus .75s forwards;

    &::placeholder {
      opacity: .45;
    }
  }

  &__clear {
    @extend %c-input__control;

    &::after {
      margin: auto;
      content: '×';
    }

    &:hover {
      color: $g-color-secondary;
    }

    .c-input:not(:placeholder-shown) + & {
      visibility: visible;
      animation: a-fade-in .6s;
    }
  }

  &__remove {
    @extend %c-input__control;

    &:hover {
      visibility: visible;
      color: $g-color-secondary;
    }

    .c-input:hover + & {
      visibility: visible;
    }

    &::after {
      margin: auto;
      content: '×';
    }
  }

}

%c-input__control {
  display: flex;
  background: none;
  border: none;
  cursor: pointer;
  outline: none;
  visibility: hidden;
  position: absolute;
  right: 13px;
  height: 100%;
  font-size: 26px;
}

@keyframes a-input--secondary-focus {
  from {
    background-size: 0 2px;
  }
  to {
    background-size: 100% 2px;
  }
}
